name: trigger
on:
  # push:
  #   branches: [main]
  # pull_request:
  #   branches: [main]
  workflow_dispatch:
    inputs:
      value:
        type: number
        required: false
        default: 42

jobs:
  trigger-job:
    name: TRIGGER
    runs-on: ubuntu-latest

    steps:
      - name: echo
        run: echo "trigger value = ${{ inputs.value }}"
      - name: output
        id: out-data
        run: |
          echo "val=${{ inputs.value }}" >> $GITHUB_OUTPUT
          echo "value=${{ inputs.value }}" >> "$GITHUB_OUTPUT"
      - name: echo out
        run: |
          echo "trigger value = ${{ steps.out-data.inputs.value }}"
          echo "trigger val = ${{ steps.out-data.inputs.val }}"
  need-job:
    name: NEEDS
    needs: trigger-job
    runs-on: ubuntu-latest
    steps:
      - name: echo
        run: |
          echo "trigger value = ${{ needs.trigger-job.value }}"
          echo "trigger val = ${{ needs.trigger-job.val }}"
          echo "trigger value = ${{ needs.trigger-job.out-data.value }}"
          echo "trigger val = ${{ needs.trigger-job.out-data.val }}"
    
